
should put a max results limit


we need to keep the tracks recently foudn in the search list in memory?

Then that means keeping the process alive in memory. But we can also
just run the search again and find the track by index.

Tried Macruby but it is too hard to get either multithreaded DRb or
sinatra working

Vimscript can remember the last command send to system() and just append
an index number to it



Store lists like in Vmail
Put databaseID off screen and use it to look up anything



https://bitbucket.org/kamitchell/itunesbridged

https://github.com/mislav/itunes/blame/master/itunes.rb

https://github.com/mislav/itunes

  ITunesManager.app.run

  # start playing at the beginning
  ITunesManager.music.playOnce(false)

  ITunesManager.player_state  #=> :playing

  ITunesManager.app.playpause
  ITunesManager.player_state  #=> :paused

  track = ITunesManager.current_track

  # for more properties, see iTunes.h under "@interface iTunesTrack"
  track.name
  track.artist
  track.album

  # playlist management
  favorites = ITunesManager.find_or_create_playlist 'Favorites'

  track = ITunesManager.music.fileTracks.first
  favorites << track

  favorites.add ITunesManager.music.search('daft punk')
  favorites.add ITunesManager.music.search('pendulum', :artists)
  favorites.add ITunesManager.music.search('easy rider', :albums)



[choi spartan~/p/vitunes]$ /Users/choi/projects/vitunes/build/Release/vitunes search rush
2011-06-30 02:08:59.516 vitunes[68007:903] args: (
    "/Users/choi/projects/vitunes/build/Release/vitunes",
    search,
    rush
)
1746 P56/Brushstroking Fingerstyle Blues Guitar Arnie Berle and Mark Galbo (1993) Religious
1400 Cold Fire Counterparts Rush (2004) Rock
1402 Mystic Rhythms Retrospective, Vol. 2 (1981-1987) Rush (1997) Rock
1404 The Big Money Rush: Spirit of Radio - Greatest Hits 1974-1987 Rush (2003) Rock
[choi spartan~/p/vitunes]$ /Users/choi/projects/vitunes/build/Release/vitunes playTrackID 1404
2011-06-30 02:09:09.536 vitunes[68010:903] args: (
    "/Users/choi/projects/vitunes/build/Release/vitunes",
    playTrackID,
    1404
)
2011-06-30 02:09:09.646 vitunes[68010:903] playing track: The Big Money
[choi spartan~/p/vitunes]$ fg
vim vitunes.rb

[1]+  Stopped                 vim vitunes.rb


------------------------------------------------------------------------
getting all artists in applescript

tell application "iTunes"
   set myList to get artist of (every track of library playlist 1 whose
   artist is not missing value)
   end tell
   set oldDelim to AppleScript's text item delimiters
   set AppleScript's text item delimiters to ASCII character 10
   set allArtists to myList as text
   set AppleScript's text item delimiters to oldDelim
   do shell script "echo " & (quoted form of allArtists) & " | sort -u "


** BUILD SUCCEEDED **

[choi spartan~/p/vitunes]$ /Users/choi/projects/vitunes/build/Release/vitunes match "artist == 'U2'"
2011-06-30 02:35:27.146 vitunes[68774:903] tracks: (
    "Beautiful Day",
    "Stuck In A Moment You Can't Get Out Of",
    Elevation,
    "Walk On",
    Kite,
    "In A Little While",
    "Wild Honey",
    "Peace On Earth",
    "When I Look At The World",
    "New York",
    Grace,
    "Pride (In The Name Of Love)",
    "With Or Without You",
    "Even Better Than the Real Thing",
    "Mysterious Ways",
    "Electrical Storm (William Orbit Mix)",
    One,
    "Stay (Faraway, so Close!)",
    "Zoo Station",
    Magnificent,
    Always
)



Use contains instead of LIKE

tell application "iTunes"
   set myList to get artist of (every track of library playlist 1 whose artist is not missing value)
end tell
set oldDelim to AppleScript's text item delimiters
set AppleScript's text item delimiters to ASCII character 10
set allArtists to myList as text
set AppleScript's text item delimiters to oldDelim
do shell script "echo " & (quoted form of allArtists) & " | sort -u "



------------------------------------------------------------------------
Thu Jun 30 07:44:42 EDT 2011


Don't do any playlist management (writing) for the first release. Stick
to navigation, search, playing


Let user use Mac stop key? No, what if this is via remote?


Some commands

itunes playpause
itunes currentPlaylist => prints current playlist name
vitunes/build/Release/vitunes predicate "name contains 'love'"


TODO
- maybe show iTunesPlaylist properties:
  - duration (total length of playlist in secs)
  - shuffle BOOL
  - songRepeat (a constant)
  - time <= MM:SS



